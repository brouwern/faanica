<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>01-Cleaning Faaborg et al Guanica Forest migrant data • faanica</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="01-Cleaning Faaborg et al Guanica Forest migrant data">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">faanica</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01-01-clean_reshape_faaborg2013.html">01-Cleaning Faaborg et al Guanica Forest migrant data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/brouwern/faanica">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>01-Cleaning Faaborg et al Guanica Forest migrant data</h1>
                        <h4 class="author">Vignette Author</h4>
            
            <h4 class="date">2018-06-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/brouwern/faanica/blob/master/vignettes/01-01-clean_reshape_faaborg2013.Rmd"><code>vignettes/01-01-clean_reshape_faaborg2013.Rmd</code></a></small>
      <div class="hidden name"><code>01-01-clean_reshape_faaborg2013.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>Data originally from Table 2 in Faaborg et al 2013.</p>
<p>Tables in “wide” format and need to be cleaned and reshaped to “long” format for analysis in R</p>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<p>Faaborg J, WJ Arendt, JD Toms, KM Dugger, WA Cox, and M Canals Mora. 2013. Long-term decline of a winter-resident bird community in Puerto Rico. Biodiversity &amp; Conservation. <a href="https://link.springer.com/article/10.1007/s10531-012-0399-7" class="uri">https://link.springer.com/article/10.1007/s10531-012-0399-7</a> Table 2: “Number of winter residents captured annually from 1973–2012”</p>
<p>Long‐term variation in the winter resident bird community of Guánica Forest, Puerto Rico: lessons for measuring and monitoring species richness J Faaborg, KM Dugger, WJ Arendt. - Journal of Field Ornithology, 2007. <a href="http://www.jstor.org/stable/40345963" class="uri">http://www.jstor.org/stable/40345963</a> Table 1: data from 1989 through 2006.</p>
<p>Understanding survival and abundance of overwintering warblers: does rainfall matter? KM Dugger, J Faaborg, WJ Arendt, KA Hobson - The Condor, 2004 <a href="http://www.bioone.org/doi/abs/10.1650/7632" class="uri">http://www.bioone.org/doi/abs/10.1650/7632</a> ; available on JSTOR Summarizes environmental variables in Table 1</p>
</div>
<div id="steps" class="section level3">
<h3 class="hasAnchor">
<a href="#steps" class="anchor"></a>Steps</h3>
<ul>
<li>Load .csv with wide data (Table 2, Faabor et al 2013)</li>
<li>Clean data (eg, convert species names to AOU codes)</li>
<li>Reshape data to long format using reshape2::melt</li>
</ul>
</div>
<div id="analysis-history-original-file-names" class="section level3">
<h3 class="hasAnchor">
<a href="#analysis-history-original-file-names" class="anchor"></a>Analysis History / Original file names:</h3>
<ul>
<li>Original analysis carried out by NLB/EC in 2017</li>
<li>Turned into research compendium in 6/2017</li>
<li>Original file scripts began with was “FaaborgData_edit_CSV.csv”</li>
<li>flagged as “edit” because… ?</li>
<li>file chanaged to “faaborg_2013.csv”</li>
</ul>
</div>
</div>
<div id="libraries" class="section level2">
<h2 class="hasAnchor">
<a href="#libraries" class="anchor"></a>Libraries</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(reshape2)
<span class="kw">library</span>(here)
<span class="co">#&gt; here() starts at C:/Users/lisanjie/Documents/1_R/git/packages_compendia/faanica</span></code></pre></div>
</div>
<div id="load-faaborg-et-al-2013-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-faaborg-et-al-2013-data" class="anchor"></a>Load Faaborg et al 2013 data</h2>
<p>Note that the location of these data depends on whether</p>
<ul>
<li>You downloaded the data and saved it to your working directory</li>
<li>Set your working directory or the file path accordinly</li>
<li>You loaded faanica into R as a package</li>
<li>the file path should be “./extdata/faaborg2013.csv”</li>
<li>You forked or cloned the faanica github repro (or are the maintainer) and are therefore working from the faanica sources code</li>
<li>“.inst/extdata/faaborg2013.csv”</li>
</ul>
<p>I am working directly from the faanica source code and will load from “”.inst/extdata/faaborg2013.csv“”</p>
<p>Use here() function in here package to assure that file name always gets properly constructed (can be a problem in some contexts)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file. &lt;-<span class="st"> </span>here<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/here/topics/here">here</a></span>(<span class="st">"inst/extdata/faaborg2013_table2.csv"</span>)</code></pre></div>
<p>Load the data; note that there is a 9-row header of meta data that needs to be skipped</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faa.wide &lt;-<span class="st"> </span><span class="kw">read.csv</span>(file., <span class="dt">comment.char =</span> <span class="st">"#"</span>, <span class="dt">skip =</span> <span class="dv">9</span>)</code></pre></div>
</div>
<div id="clean-data" class="section level2">
<h2 class="hasAnchor">
<a href="#clean-data" class="anchor"></a>Clean data</h2>
<p>Set up 4 letter AOU species codes from common names.</p>
<div id="create-spp-names" class="section level3">
<h3 class="hasAnchor">
<a href="#create-spp-names" class="anchor"></a>Create spp names</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#extract 1st 2 letters of each part of name</span>
faa.wide<span class="op">$</span>spp.code &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">"^([A-Za-z]{2})(.*)([ ])([A-Za-z]{2})(.*)"</span>,<span class="st">"</span><span class="ch">\\</span><span class="st">1</span><span class="ch">\\</span><span class="st">4"</span>, faa.wide<span class="op">$</span>common.name)

## Change spp.code to upper case
faa.wide<span class="op">$</span>spp.code &lt;-<span class="st"> </span><span class="kw">toupper</span>(faa.wide<span class="op">$</span>spp.code)

## Correct species names that don't follow pattern from above

## Merlin
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "MERLIN"</span>)] &lt;-<span class="st"> "MERL"</span>

## Ovenbird
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "OVENBIRD"</span>)] &lt;-<span class="st"> "OVEN"</span>

## Worm-eating warbler
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "WOWA"</span>)] &lt;-<span class="st"> "WEWA"</span>

## Distinguish blue-winged warbler (BWWA), black-and-white warbler (BAWW), and black-throated blue warbler (BTBW)
faa.wide[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "BLWA"</span>), <span class="kw">c</span>(<span class="st">"spp.code"</span>,<span class="st">"common.name"</span>)] 
<span class="co">#&gt;    spp.code                 common.name</span>
<span class="co">#&gt; 6      BLWA         Blue-winged Warbler</span>
<span class="co">#&gt; 7      BLWA     Black-and-white Warbler</span>
<span class="co">#&gt; 16     BLWA Black-throated Blue Warbler</span>
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "BLWA"</span>)] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"BWWA"</span> ,<span class="st">"BAWW"</span>,<span class="st">"BTBW"</span>)

## Distinguish prairie warbler (PRWA) and prothonotary warbler (PROW)
faa.wide[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "PRWA"</span>),<span class="kw">c</span>(<span class="st">"spp.code"</span>,<span class="st">"spp"</span>)] 
<span class="co">#&gt;    spp.code                 spp</span>
<span class="co">#&gt; 8      PRWA Protonotaria citrea</span>
<span class="co">#&gt; 17     PRWA  Setophaga discolor</span>
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "PRWA"</span>)][[<span class="dv">1</span>]] &lt;-<span class="st"> "PROW"</span>

## Cape May warbler (CMWA)
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "CAWA"</span>)] &lt;-<span class="st"> "CMWA"</span>

## Rose-breasted grosbeak (RBGR)
faa.wide<span class="op">$</span>spp.code[<span class="kw">which</span>(faa.wide<span class="op">$</span>spp.code <span class="op">==</span><span class="st"> "ROGR"</span>)] &lt;-<span class="st"> "RBGR"</span></code></pre></div>
</div>
<div id="validate-species-codes" class="section level3">
<h3 class="hasAnchor">
<a href="#validate-species-codes" class="anchor"></a>Validate species codes</h3>
<p>Look at summary of species codes to make sure there is only one instance of each</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">with</span>(faa.wide, 
     <span class="kw">table</span>(spp.code))
<span class="co">#&gt; spp.code</span>
<span class="co">#&gt; AMRE BAOR BAWW BITH BTBW BWWA CMWA HOWA INBU KEWA MAWA MERL NOPA NOWA OVEN </span>
<span class="co">#&gt;    1    1    1    1    1    1    1    1    1    1    1    1    1    1    1 </span>
<span class="co">#&gt; PROW PRWA RBGR SWWA WEWA </span>
<span class="co">#&gt;    1    1    1    1    1</span></code></pre></div>
<p>Use head() and tail() to look at first and last rows of dataframe, Confirm nothing has been added or deleted, Make sure everything looks as expected.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(faa.wide)
<span class="co">#&gt;            common.name                     spp yr.1989 yr.1990 yr.1991</span>
<span class="co">#&gt; 1               Merlin       Falco columbarius       1       1       0</span>
<span class="co">#&gt; 2    Bicknell's Thrush      Catharus bicknelli       0       0       0</span>
<span class="co">#&gt; 3             Ovenbird     Seiurus aurocapilla      26      51      29</span>
<span class="co">#&gt; 4  Worm-eating Warbler  Helmitheros vermivorum       4       2       6</span>
<span class="co">#&gt; 5 Northern Waterthrush Parkesia noveboracensis       0       2       4</span>
<span class="co">#&gt; 6  Blue-winged Warbler    Vermivora cyanoptera       0       0       0</span>
<span class="co">#&gt;   yr.1992 yr.1993 yr.1994 yr.1995 yr.1996 yr.1997 yr.1998 yr.1999 yr.2000</span>
<span class="co">#&gt; 1       0       0       0       0       0       1       1       0       1</span>
<span class="co">#&gt; 2       0       0       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 3      35      34      18      44      38      33      34      22      31</span>
<span class="co">#&gt; 4       5       2       3       8       7      10       3       7       5</span>
<span class="co">#&gt; 5       1       0       0       0       2       0       0       1       0</span>
<span class="co">#&gt; 6       0       0       0       0       0       0       0       1       0</span>
<span class="co">#&gt;   yr.2001 yr.2002 yr.2003 yr.2004 yr.2005 yr.2006 yr.2007 yr.2008 yr.2009</span>
<span class="co">#&gt; 1       0       1       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 2       0       0       0       0       1       0       0       0       0</span>
<span class="co">#&gt; 3      41      30      16      20      24      23      11       8      18</span>
<span class="co">#&gt; 4       5       1       3       0       5       6       2       0       2</span>
<span class="co">#&gt; 5       0       0       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 6       0       0       0       0       0       0       0       0       0</span>
<span class="co">#&gt;   yr.2010 yr.2011 yr.2012 spp.code</span>
<span class="co">#&gt; 1       0       0       1     MERL</span>
<span class="co">#&gt; 2       0       0       0     BITH</span>
<span class="co">#&gt; 3      20      20      13     OVEN</span>
<span class="co">#&gt; 4       0       0       1     WEWA</span>
<span class="co">#&gt; 5       0       0       0     NOWA</span>
<span class="co">#&gt; 6       0       0       0     BWWA</span>
<span class="kw">tail</span>(faa.wide)
<span class="co">#&gt;                    common.name                     spp yr.1989 yr.1990</span>
<span class="co">#&gt; 15            Magnolia Warbler      Setophaga magnolia       0       0</span>
<span class="co">#&gt; 16 Black-throated Blue Warbler  Setophaga caerulescens       0       2</span>
<span class="co">#&gt; 17             Prairie Warbler      Setophaga discolor       2       0</span>
<span class="co">#&gt; 18            Baltimore Oriole         Icterus galbula       0       0</span>
<span class="co">#&gt; 19              Indigo Bunting        Passerina cyanea       0       0</span>
<span class="co">#&gt; 20      Rose-breasted Grosbeak Pheucticus ludovicianus       0       0</span>
<span class="co">#&gt;    yr.1991 yr.1992 yr.1993 yr.1994 yr.1995 yr.1996 yr.1997 yr.1998 yr.1999</span>
<span class="co">#&gt; 15       1       0       1       0       1       0       0       1       2</span>
<span class="co">#&gt; 16       2       0       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 17       4      12       4      10       5       2       6      21      19</span>
<span class="co">#&gt; 18       0       0       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 19       1       1       0       0       0       0       5       1       0</span>
<span class="co">#&gt; 20       0       0       0       0       2       0       0       2       0</span>
<span class="co">#&gt;    yr.2000 yr.2001 yr.2002 yr.2003 yr.2004 yr.2005 yr.2006 yr.2007 yr.2008</span>
<span class="co">#&gt; 15       2       2       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 16       0       0       0       0       0       0       0       0       0</span>
<span class="co">#&gt; 17      16      13      10      12      13       8       7       4       1</span>
<span class="co">#&gt; 18       0       0       0       0       0       0       1       0       0</span>
<span class="co">#&gt; 19       1       0       0       0       1       0       0       0       0</span>
<span class="co">#&gt; 20      12      12       0       0       4       1       1       0       0</span>
<span class="co">#&gt;    yr.2009 yr.2010 yr.2011 yr.2012 spp.code</span>
<span class="co">#&gt; 15       0       0       0       0     MAWA</span>
<span class="co">#&gt; 16       0       0       0       0     BTBW</span>
<span class="co">#&gt; 17       4       6       1       3     PRWA</span>
<span class="co">#&gt; 18       0       0       0       0     BAOR</span>
<span class="co">#&gt; 19       0       0       0       1     INBU</span>
<span class="co">#&gt; 20       1       3       0       0     RBGR</span></code></pre></div>
</div>
</div>
<div id="convert-from-wide--to-long-format-clean" class="section level2">
<h2 class="hasAnchor">
<a href="#convert-from-wide--to-long-format-clean" class="anchor"></a>Convert from wide- to long-format &amp; clean</h2>
<div id="melt-data" class="section level3">
<h3 class="hasAnchor">
<a href="#melt-data" class="anchor"></a>Melt data</h3>
<ul>
<li>ID variables uniquely identify each row of data</li>
<li>common.name, spp, spp.code</li>
<li>specify that you want “year” and “N” that correspond to each (common.name, spp, spp.code)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat.melt &lt;-<span class="st"> </span>reshape2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/reshape2/topics/melt">melt</a></span>(<span class="dt">data =</span> faa.wide,
     <span class="dt">id.vars =</span> <span class="kw">c</span>(<span class="st">"common.name"</span>,
                 <span class="st">"spp"</span>,
                 <span class="st">"spp.code"</span>),
     <span class="dt">variable.name =</span> <span class="st">"year"</span>,
     <span class="dt">value.name =</span> <span class="st">"N"</span>)</code></pre></div>
</div>
<div id="clean-melted-data" class="section level3">
<h3 class="hasAnchor">
<a href="#clean-melted-data" class="anchor"></a>Clean melted data</h3>
<ul>
<li>Remove “yr.” from in front of the year</li>
<li>Tell R that “year” is numeric</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat.melt<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">"yr."</span>, <span class="st">""</span>, dat.melt<span class="op">$</span>year)
dat.melt<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(dat.melt<span class="op">$</span>year)</code></pre></div>
</div>
</div>
<div id="append-data-on-number-of-nets-per-year" class="section level2">
<h2 class="hasAnchor">
<a href="#append-data-on-number-of-nets-per-year" class="anchor"></a>Append data on number of nets per year</h2>
<ul>
<li>The following code shows how to solve this problem using loops</li>
<li>the merge() function can also do this</li>
</ul>
<div id="add-number-of-nets-used-each-year" class="section level3">
<h3 class="hasAnchor">
<a href="#add-number-of-nets-used-each-year" class="anchor"></a>Add number of nets used each year</h3>
<ul>
<li>… prior to 1989?</li>
<li>7 in 1989</li>
<li>8 in 1990</li>
<li>9 in all subsequent years</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n.rows &lt;-<span class="st"> </span><span class="kw">nrow</span>(dat.melt)
dat.melt<span class="op">$</span>nets &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">9</span>,n.rows)

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">480</span>)
{
    <span class="cf">if</span> ((dat.melt<span class="op">$</span>year[i] <span class="op">==</span><span class="st"> </span><span class="dv">1989</span>))
    {
      dat.melt<span class="op">$</span>nets[i] &lt;-<span class="st"> </span><span class="dv">7</span>
    }
}

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">480</span>)
{
    <span class="cf">if</span> ((dat.melt<span class="op">$</span>year[i] <span class="op">==</span><span class="st"> </span><span class="dv">1990</span>)) 
    {
      dat.melt<span class="op">$</span>nets[i] &lt;-<span class="st"> </span><span class="dv">8</span>
    }
}</code></pre></div>
</div>
</div>
<div id="calculate-caps-per-net" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-caps-per-net" class="anchor"></a>Calculate caps per net</h2>
<p>Mist ned dat is frequently expressed as capture per net hour.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat.melt<span class="op">$</span>caps.per.net &lt;-<span class="st"> </span><span class="kw">with</span>(dat.melt, N<span class="op">/</span>nets)</code></pre></div>
</div>
<div id="save-long-data" class="section level2">
<h2 class="hasAnchor">
<a href="#save-long-data" class="anchor"></a>Save long data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file. &lt;-<span class="st"> </span>here<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/here/topics/here">here</a></span>(<span class="st">"inst/extdata/faaborg2013.csv"</span>)
<span class="kw">write.csv</span>(dat.melt,
          <span class="dt">file =</span> file.,
          <span class="dt">row.names =</span> F)</code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#libraries">Libraries</a></li>
      <li><a href="#load-faaborg-et-al-2013-data">Load Faaborg et al 2013 data</a></li>
      <li><a href="#clean-data">Clean data</a></li>
      <li><a href="#convert-from-wide--to-long-format-clean">Convert from wide- to long-format &amp; clean</a></li>
      <li><a href="#append-data-on-number-of-nets-per-year">Append data on number of nets per year</a></li>
      <li><a href="#calculate-caps-per-net">Calculate caps per net</a></li>
      <li><a href="#save-long-data">Save long data</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Brouwer Nathan, Emily Scott.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
